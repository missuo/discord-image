(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{829:(e,r,a)=>{"use strict";a.d(r,{default:()=>k});var t=a(5155),s=a(2115),l=a(9708),d=a(2085),o=a(9434);let i=(0,d.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),n=s.forwardRef((e,r)=>{let{className:a,variant:s,size:d,asChild:n=!1,...c}=e,u=n?l.DX:"button";return(0,t.jsx)(u,{className:(0,o.cn)(i({variant:s,size:d,className:a})),ref:r,...c})});n.displayName="Button";let c=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});c.displayName="Card";let u=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",a),...s})});u.displayName="CardHeader";let g=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});g.displayName="CardTitle";let m=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,o.cn)("text-sm text-muted-foreground",a),...s})});m.displayName="CardDescription";let x=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,o.cn)("p-6 pt-0",a),...s})});x.displayName="CardContent",s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,o.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter";let b=s.forwardRef((e,r)=>{let{className:a,type:s,...l}=e;return(0,t.jsx)("input",{type:s,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:r,...l})});b.displayName="Input";var f=a(7481),p=a(9946);let h=(0,p.A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),y=(0,p.A)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),v=(0,p.A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);function k(){let[e,r]=(0,s.useState)(!1),[a,l]=(0,s.useState)(!1),[d,o]=(0,s.useState)(null),[i,p]=(0,s.useState)(null),k=(0,s.useRef)(null),N=(0,s.useCallback)(e=>({direct:e,markdown:"![Image](".concat(e,")"),html:'<img src="'.concat(e,'" alt="Image" />')}),[]),j=(0,s.useCallback)(async e=>{if(!e.type.startsWith("image/"))return void(0,f.oR)({title:"Invalid file type",description:"Please select an image file.",variant:"destructive"});if(e.size>0xa00000)return void(0,f.oR)({title:"File too large",description:"Image size must be less than 10MB.",variant:"destructive"});l(!0);try{let r=new FormData;r.append("image",e);let a=await fetch("/upload",{method:"POST",body:r});if(!a.ok){let e=await a.json();throw Error(e.error||"Upload failed")}let t=await a.json();o(t),p(N(t.url)),(0,f.oR)({title:"Upload successful",description:"Your image has been uploaded successfully."})}catch(e){console.error("Upload error:",e),(0,f.oR)({title:"Upload failed",description:e instanceof Error?e.message:"An unknown error occurred",variant:"destructive"})}finally{l(!1)}},[N]),w=(0,s.useCallback)(e=>{e.preventDefault(),r(!0)},[]),T=(0,s.useCallback)(e=>{e.preventDefault(),r(!1)},[]),C=(0,s.useCallback)(e=>{e.preventDefault(),r(!1);let a=Array.from(e.dataTransfer.files);a.length>0&&j(a[0])},[j]),S=(0,s.useCallback)(e=>{let r=e.target.files;r&&r.length>0&&j(r[0])},[j]),D=(0,s.useCallback)(e=>{var r;let a=null==(r=e.clipboardData)?void 0:r.items;if(a)for(let e=0;e<a.length;e++){let r=a[e];if(-1!==r.type.indexOf("image")){let e=r.getAsFile();e&&j(e);break}}},[j]),A=(0,s.useCallback)((e,r)=>{navigator.clipboard.writeText(e).then(()=>{(0,f.oR)({title:"Copied to clipboard",description:"".concat(r," link copied successfully.")})})},[]);return(0,s.useEffect)(()=>(document.addEventListener("paste",D),()=>{document.removeEventListener("paste",D)}),[D]),(0,t.jsxs)("div",{className:"w-full max-w-4xl mx-auto",children:[(0,t.jsx)(c,{className:"mb-6 shadow-lg border-0 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm",children:(0,t.jsx)(x,{className:"p-8",children:(0,t.jsxs)("div",{className:"border-2 border-dashed rounded-xl p-12 text-center transition-all duration-300 ".concat(e?"border-blue-500 bg-blue-50/50 dark:bg-blue-900/20 scale-105":"border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-500 hover:bg-gray-50/50 dark:hover:bg-gray-700/50"),onDragOver:w,onDragLeave:T,onDrop:C,children:[(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:"p-4 rounded-full mb-6 transition-all duration-300 ".concat(e?"bg-blue-100 dark:bg-blue-900/40":"bg-gray-100 dark:bg-gray-700"),children:(0,t.jsx)(h,{className:"w-12 h-12 transition-colors ".concat(e?"text-blue-600 dark:text-blue-400":"text-gray-400 dark:text-gray-500")})}),(0,t.jsx)("h3",{className:"text-xl font-semibold mb-2 text-gray-900 dark:text-white",children:e?"Drop your image here":"Upload your image"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6 max-w-md",children:"Drag & drop, browse files, or paste from clipboard"}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[(0,t.jsx)(n,{onClick:()=>{var e;return null==(e=k.current)?void 0:e.click()},disabled:a,size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 text-lg font-medium transition-all duration-200",children:a?"Uploading...":"Browse Files"}),(0,t.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["or press ",(0,t.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs font-mono",children:"Ctrl+V"})]})]}),(0,t.jsx)("div",{className:"mt-6 text-xs text-gray-500 dark:text-gray-400",children:"Maximum file size: 10MB â€¢ Supported formats: PNG, JPG, GIF, WebP"})]}),(0,t.jsx)(b,{ref:k,type:"file",accept:"image/*",onChange:S,className:"hidden"})]})})}),d&&i&&(0,t.jsxs)(c,{className:"shadow-lg border-0 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm",children:[(0,t.jsxs)(u,{className:"pb-4",children:[(0,t.jsxs)(g,{className:"flex items-center gap-3 text-xl",children:[(0,t.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/40 rounded-lg",children:(0,t.jsx)(y,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),"Upload Complete"]}),(0,t.jsx)(m,{className:"text-base",children:"Your image has been uploaded successfully. Choose your preferred format:"})]}),(0,t.jsxs)(x,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Direct URL"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(b,{readOnly:!0,value:i.direct,className:"flex-1 font-mono text-sm bg-gray-50 dark:bg-gray-900 border-gray-200 dark:border-gray-600"}),(0,t.jsx)(n,{variant:"outline",size:"sm",onClick:()=>A(i.direct,"Direct URL"),className:"shrink-0 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:(0,t.jsx)(v,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Markdown"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(b,{readOnly:!0,value:i.markdown,className:"flex-1 font-mono text-sm bg-gray-50 dark:bg-gray-900 border-gray-200 dark:border-gray-600"}),(0,t.jsx)(n,{variant:"outline",size:"sm",onClick:()=>A(i.markdown,"Markdown"),className:"shrink-0 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:(0,t.jsx)(v,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"HTML"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(b,{readOnly:!0,value:i.html,className:"flex-1 font-mono text-sm bg-gray-50 dark:bg-gray-900 border-gray-200 dark:border-gray-600"}),(0,t.jsx)(n,{variant:"outline",size:"sm",onClick:()=>A(i.html,"HTML"),className:"shrink-0 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:(0,t.jsx)(v,{className:"w-4 h-4"})})]})]})]}),(0,t.jsxs)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-600",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Preview"}),(0,t.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-xl border border-gray-200 dark:border-gray-600",children:(0,t.jsx)("img",{src:d.url,alt:"Uploaded image preview",className:"max-w-full max-h-80 object-contain rounded-lg mx-auto shadow-sm"})})]})]})]})]})}},1183:(e,r,a)=>{Promise.resolve().then(a.bind(a,829))},7481:(e,r,a)=>{"use strict";a.d(r,{dj:()=>g,oR:()=>u});var t=a(2115);let s=0,l=new Map,d=e=>{if(l.has(e))return;let r=setTimeout(()=>{l.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,r)},o=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=r;return a?d(a):e.toasts.forEach(e=>{d(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===r.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==r.toastId)}}},i=[],n={toasts:[]};function c(e){n=o(n,e),i.forEach(e=>{e(n)})}function u(e){let{...r}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...r,id:a,open:!0,onOpenChange:e=>{e||t()}}}),{id:a,dismiss:t,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function g(){let[e,r]=t.useState(n);return t.useEffect(()=>(i.push(r),()=>{let e=i.indexOf(r);e>-1&&i.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},9434:(e,r,a)=>{"use strict";a.d(r,{cn:()=>l});var t=a(2596),s=a(9688);function l(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return(0,s.QP)((0,t.$)(r))}}},e=>{var r=r=>e(e.s=r);e.O(0,[455,441,684,358],()=>r(1183)),_N_E=e.O()}]);