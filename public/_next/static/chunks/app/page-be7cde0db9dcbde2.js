(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1183:(e,t,a)=>{Promise.resolve().then(a.bind(a,7114))},7114:(e,t,a)=>{"use strict";a.d(t,{default:()=>N});var r=a(5155),s=a(2115),l=a(9708),i=a(2085),n=a(9434);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:i,asChild:d=!1,...c}=e,u=d?l.DX:"button";return(0,r.jsx)(u,{className:(0,n.cn)(o({variant:s,size:i,className:a})),ref:t,...c})});d.displayName="Button";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});c.displayName="Card";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});u.displayName="CardHeader";let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});m.displayName="CardTitle";let f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});f.displayName="CardDescription";let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});p.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter";let x=s.forwardRef((e,t)=>{let{className:a,type:s,...l}=e;return(0,r.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...l})});x.displayName="Input";var g=a(7481),h=a(9946);let v=(0,h.A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),b=(0,h.A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),y=(0,h.A)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),j=(0,h.A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);function N(){let[e,t]=(0,s.useState)(!1),[a,l]=(0,s.useState)(!1),[i,n]=(0,s.useState)(null),[o,h]=(0,s.useState)(null),N=(0,s.useRef)(null),w=(0,s.useCallback)(e=>({direct:e,markdown:"![Image](".concat(e,")"),html:'<img src="'.concat(e,'" alt="Image" />')}),[]),k=(0,s.useCallback)(async e=>{if(!e.type.startsWith("image/"))return void(0,g.oR)({title:"Invalid file type",description:"Please select an image file.",variant:"destructive"});if(e.size>0x1900000)return void(0,g.oR)({title:"File too large",description:"Image size must be less than 25MB.",variant:"destructive"});l(!0);try{let t=new FormData;t.append("image",e);let a=await fetch("/upload",{method:"POST",body:t});if(!a.ok){let e=await a.json();throw Error(e.error||"Upload failed")}let r=await a.json();n(r),h(w(r.url)),(0,g.oR)({title:"Upload successful",description:"Your image has been uploaded successfully."})}catch(e){console.error("Upload error:",e),(0,g.oR)({title:"Upload failed",description:e instanceof Error?e.message:"An unknown error occurred",variant:"destructive"})}finally{l(!1)}},[w]),C=(0,s.useCallback)(e=>{e.preventDefault(),t(!0)},[]),S=(0,s.useCallback)(e=>{e.preventDefault(),t(!1)},[]),T=(0,s.useCallback)(e=>{e.preventDefault(),t(!1);let a=Array.from(e.dataTransfer.files);a.length>0&&k(a[0])},[k]),D=(0,s.useCallback)(e=>{let t=e.target.files;t&&t.length>0&&k(t[0])},[k]),A=(0,s.useCallback)(e=>{var t;let a=null==(t=e.clipboardData)?void 0:t.items;if(a)for(let e=0;e<a.length;e++){let t=a[e];if(-1!==t.type.indexOf("image")){let e=t.getAsFile();e&&k(e);break}}},[k]),O=(0,s.useCallback)((e,t)=>{navigator.clipboard.writeText(e).then(()=>{(0,g.oR)({title:"Copied to clipboard",description:"".concat(t," link copied successfully.")})})},[]);return(0,s.useEffect)(()=>(document.addEventListener("paste",A),()=>{document.removeEventListener("paste",A)}),[A]),(0,r.jsxs)("div",{className:"w-full max-w-2xl mx-auto p-4",children:[(0,r.jsxs)(c,{className:"mb-6",children:[(0,r.jsxs)(u,{children:[(0,r.jsxs)(m,{className:"flex items-center gap-2",children:[(0,r.jsx)(v,{className:"w-6 h-6"}),"Discord Image Upload"]}),(0,r.jsx)(f,{children:"Upload your images to Discord. Supports drag & drop and clipboard paste."})]}),(0,r.jsx)(p,{children:(0,r.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors ".concat(e?"border-primary bg-primary/10":"border-muted-foreground/25 hover:border-muted-foreground/50"),onDragOver:C,onDragLeave:S,onDrop:T,children:[(0,r.jsx)(b,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),(0,r.jsx)("p",{className:"text-lg mb-2",children:e?"Drop your image here":"Drag & drop an image here"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"or click to browse files (max 25MB)"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"You can also paste images from clipboard (Ctrl/Cmd + V)"}),(0,r.jsx)(d,{onClick:()=>{var e;return null==(e=N.current)?void 0:e.click()},disabled:a,size:"lg",children:a?"Uploading...":"Select Image"}),(0,r.jsx)(x,{ref:N,type:"file",accept:"image/*",onChange:D,className:"hidden"})]})})]}),i&&o&&(0,r.jsxs)(c,{children:[(0,r.jsxs)(u,{children:[(0,r.jsxs)(m,{className:"flex items-center gap-2",children:[(0,r.jsx)(y,{className:"w-5 h-5"}),"Upload Complete"]}),(0,r.jsx)(f,{children:"Your image has been uploaded. Copy the links below:"})]}),(0,r.jsxs)(p,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium min-w-[80px]",children:"Direct URL:"}),(0,r.jsx)(x,{readOnly:!0,value:o.direct,className:"flex-1"}),(0,r.jsx)(d,{variant:"outline",size:"sm",onClick:()=>O(o.direct,"Direct URL"),children:(0,r.jsx)(j,{className:"w-4 h-4"})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium min-w-[80px]",children:"Markdown:"}),(0,r.jsx)(x,{readOnly:!0,value:o.markdown,className:"flex-1"}),(0,r.jsx)(d,{variant:"outline",size:"sm",onClick:()=>O(o.markdown,"Markdown"),children:(0,r.jsx)(j,{className:"w-4 h-4"})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium min-w-[80px]",children:"HTML:"}),(0,r.jsx)(x,{readOnly:!0,value:o.html,className:"flex-1"}),(0,r.jsx)(d,{variant:"outline",size:"sm",onClick:()=>O(o.html,"HTML"),children:(0,r.jsx)(j,{className:"w-4 h-4"})})]}),(0,r.jsxs)("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Preview:"}),(0,r.jsx)("img",{src:i.url,alt:"Uploaded image preview",className:"max-w-full max-h-64 object-contain rounded-lg border"})]})]})]})]})}},7481:(e,t,a)=>{"use strict";a.d(t,{dj:()=>m,oR:()=>u});var r=a(2115);let s=0,l=new Map,i=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?i(a):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=n(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=r.useState(d);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},9434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var r=a(2596),s=a(9688);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[455,441,684,358],()=>t(1183)),_N_E=e.O()}]);